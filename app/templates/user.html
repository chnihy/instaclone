<!--display user profile-->

<!--if myprofile:-->
	<!--link to new post-->
	<!--link to my messages-->
	<!--link to edit profile-->
	<!--link to view likes-->
	<!--link to view bookmarks-->


<!--if not myprofile:-->
	<!--follow button-->
	<!--send message button-->

{% extends 'base.html' %}
{% block app_content %}
<div class="row">
    <!--Profile Photo-->
	<div class="col-4" id="profile-photo-col">
		<a href="#" data-bs-toggle="modal" data-bs-target="#profile-photo-modal">
			<img src="../static/images/avatar.png">
		</a>
		{{current_user.email}}

		<!-- Profile Photo Modal -->
		<div class="modal fade" id="profile-photo-modal" tabindex="-1" aria-labelledby="profile-photo-modal-lable" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="profile-photo-modal-lable">Change Profile Picture</h5>
					</div>
					<div class="change-profile-photo">
							<p><a href="#" data-bs-toggle="modal" data-bs-target="#upload-profile-photo-modal">Upload New Photo</a></p>
							<p><a href="#">Delete Current Photo</a></p>
							<p><a href="#" data-bs-dismiss="modal">Cancel</a></p>
					</div>
				</div>
			</div>
		</div>
		<!--upload profile photo modal-->
		<div class="modal fade" id="upload-profile-photo-modal" tabindex="-1" aria-labelledby="upload-profile-photo-modal-label" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header" >
						<h5 class="modal-title" id="upload-profile-photo-modal-label">Upload a New Photo</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<img src="../static/images/fileupload.png" alt="select a file">
						<input class="form-control" type="file" id="formFile">
					</div>
					<div class="modal-footer">
						<button class="btn btn-primary" input-type="file" data-bs-toggle="modal">Upload</button>
					</div>	
				</div>
			</div>
		</div>
	
	</div>
	
	<!--name and data-->
	<div class="col-5" id="profile-bio-col">
		<div class="row">
			<div class="col">
				<h2>{{ user.username }}</h2>
			</div>
			{% if user.username == current_user.username %}
				
			<!-- Edit Profile Modal -->
			<div class="col" id="edit-profile">
				<a class="btn btn-primary" href={{ url_for('edit_profile') }} type="button">Edit Profile</a>
			</div>
			<!--end edit profile modal-->
			{% endif %}
		</div>	

		<div class="row">
			<div class="col">
				123 
				<br>
				Posts
			</div>
			<div class="col">
				999 
				<br>
				Followers
			</div>
			<div class="col">
				777 
				<br>
				Folowing
			</div>
		</div>	
		<div class="row" id="user-profile-text">
			<div class="col" id="user-fullname">
					{{ user.firstname }} {{ user.lastname }}
			</div>
		</div>
		<div class="row" id="user-bio">
			<div class="col" id="user-bio">
				{{ user.bio }}
			</div>
		</div>
	</div>
</div>

<div class="row">
	{% for post in posts %}
		<div class="col-4" id="user-feed">
			<p>
			<a href="#" data-bs-toggle="modal" data-bs-target="#post-modal-{{post.id}}">
				<img src={{ post.image_url }} alt="post image", height="250", width="250", margin="10px"></a><br>
					<!-- Modal -->
					<div class="modal fade" id="post-modal-{{post.id}}" tabindex="-1" aria-labelledby="post-modal-{{post.id}}-label" aria-hidden="true">
						<div class="modal-dialog modal-xl modal-dialog-scrollable">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
								</div>
								<div class="modal-body">
									<div class="row ">
										<div class="col-8" id="post-image">
											<img src={{post.image_url}} alt="post image", height="500">
										</div>
										<div class="col" id="post-caption">
											<!--avatar-->
											Avatar |
											<a href={{ url_for('user', username=user.username) }}>{{ user.username}}</a> 
											| following/follow
											<hr>
											{{ post.caption }}<br>
											<p>comment 1</p>
											<p>comment 2</p>
											<p>comment 3</p>
											<p>comment 4</p>
											<p>comment 5</p>
											<p>comment 6</p>
											<p>comment 7</p>
											<p>comment 8</p>
											<p>comment 9</p>
											<hr>
											Like | Comment | Message | Bookmark
											timestamp
											<hr>
											Emojis | Comment text field | Post Button

										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				<!-- todo if no posts -->
			
			</p>
		</div>
	{% endfor %}
</div>




{% endblock app_content %}